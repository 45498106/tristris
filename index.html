<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Tetris</title>
    <link rel="stylesheet" media="screen" href="style.css">
  </head>
  <body>

    <header>TrisTris</header>

    <main>

      <div class="side-panel">
        <span class="held-text">held</span>
        <canvas class="held-canvas"></canvas>
      </div>

      <div class="game-panel">
        <canvas class="main-canvas"></canvas>
      </div>

      <div class="side-panel">
        <span class="next-text">next</span>
        <canvas class="next-canvas"></canvas>
      </div>
    </main>

    <footer>
      <span id="score-text">You have 0 points.</span>
      <span id="highscore-text">Highscore 0 points.</span>
    </footer>

    <script src="util.js"></script>
    <script src="event.js"></script>
    <script src="input.js"></script>
    <script src="audio.js"></script>
    <script src="graphics.js"></script>
    <script src="player.js"></script>
    <script src="arena.js"></script>
    <script src="tetris.js"></script>
    <script>
      (() => {
        fetch('assets/data/config.json')
        .then(response => response.json())
        .then(config => {
          const canvas = {
            'main': document.getElementsByClassName('main-canvas')[0],
            'next':   document.getElementsByClassName('next-canvas')[0],
            'held':   document.getElementsByClassName('held-canvas')[0],
          }
          new Tetris(canvas, config).loop()
        })
      })()
    </script>
  </body>
</html>
